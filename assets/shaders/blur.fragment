#version 450
out vec4 FragColor;

in vec2 TexCoords;

uniform sampler2D image;
uniform int radius;

void main() {
	vec2 tex_offset = 1.0 / textureSize(image, 0); // gets size of single texel
	vec3 result = vec3(0, 0, 0); // current fragment's contribution
	for(int j = -radius; j < radius; ++j) {
		for(int i = -radius; i < radius; ++i) {
			result += texture(image, TexCoords + tex_offset * vec2(i, j)).rgb;
		}
	}
	FragColor = vec4(result / (radius * radius), 1.0);
}